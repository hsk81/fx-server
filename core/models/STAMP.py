#! /usr/bin/python

__author__ = "hsk81"
__date__ = "$Apr 22, 2011 2:50:14 PM$"

###############################################################################################
###############################################################################################

from time import mktime
from core.models import *
from django.db import models

###############################################################################################
###############################################################################################

class STAMP (models.Model):

    class Meta:

        app_label = 'core'
        verbose_name_plural = 'stamps'

    ###########################################################################################
    ###########################################################################################

    def __init__ (self, *args, **kwargs):

        super (STAMP, self).__init__ (*args, **kwargs)

    ###########################################################################################
    ###########################################################################################

    insert_date = models.DateTimeField (auto_now_add = True)
    update_date = models.DateTimeField (auto_now = True)
    delete_date = models.DateTimeField (null = True, blank = True)

    ###########################################################################################
    ###########################################################################################

    @property
    def unix_insert_date (self):
        return self.insert_date and '%d' % mktime (self.insert_date)
    @property
    def unix_update_date (self):
        return self.update_date and '%d' % mktime (self.update_date)
    @property
    def unix_delete_date (self):
        return self.delete_date and '%d' % mktime (self.delete_date)

    ###########################################################################################
    ###########################################################################################

    def __unicode__ (self):

        return '%s' % self.update_date

###############################################################################################
###############################################################################################

if __name__ == "__main__":

    pass
